<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>Medicare Plus - Your Cart</title>
    <style>
     
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f9ff;
            margin: 0;
            padding: 0;
            color: #333;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        header {
            background-color: #1976d2;
            color: #fff;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        header .logo {
            font-weight: 700;
            font-size: 1.8rem;
            letter-spacing: 1px;
        }

        nav {
            margin-top: 0.5rem;
        }

        nav a {
            color: #fff;
            text-decoration: none;
            margin-left: 1.5rem;
            font-size: 1rem;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        nav a:hover,
        nav a:focus {
            color: #ffca28;
            outline: none;
        }

        .cart-container svg {
            width: 28px;
            height: 28px;
            fill: white;
            transition: fill 0.3s ease;
        }

        .cart-container:hover svg,
        .cart-container:focus svg {
            fill: #ffca28;
            outline: none;
        }

        .cart-badge {
            position: absolute;
            top: -6px;
            right: -8px;
            background-color: #ffca28;
            color: #1976d2;
            font-weight: 700;
            font-size: 0.75rem;
            border-radius: 50%;
            padding: 0 6px;
            min-width: 18px;
            height: 18px;
            line-height: 18px;
            text-align: center;
            user-select: none;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
        }

        main {
            max-width: 900px;
            margin: 3rem auto 4rem;
            padding: 0 1rem;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(25, 118, 210, 0.12);
        }

        h1.page-title {
            font-size: 2rem;
            color: #1976d2;
            font-weight: 700;
            margin-bottom: 1.7rem;
            text-align: center;
        }

        table.cart-table {
            width: 100%;
            border-collapse: collapse;
        }

        table.cart-table th,
        table.cart-table td {
            padding: 0.9rem 1.2rem;
            border-bottom: 1px solid #ddd;
            text-align: left;
            vertical-align: middle;
        }

        table.cart-table th {
            background-color: #1976d2;
            color: white;
            font-weight: 600;
        }

        table.cart-table td input[type="number"] {
            width: 60px;
            padding: 0.3rem 0.5rem;
            font-size: 1rem;
            border-radius: 6px;
            border: 1.5px solid #ccc;
            text-align: center;
            transition: border-color 0.3s ease;
        }

        table.cart-table td input[type="number"]:focus {
            border-color: #1976d2;
            outline: none;
        }

        button.remove-btn {
            background-color: #d32f2f;
            color: white;
            border: none;
            padding: 0.4rem 0.8rem;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button.remove-btn:hover,
        button.remove-btn:focus {
            background-color: #9a2424;
            outline: none;
        }

        .cart-summary {
            margin-top: 1.7rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.15rem;
            font-weight: 600;
            color: #004ba0;
        }

        .checkout-btn {
            background-color: #1976d2;
            color: white;
            border: none;
            padding: 1rem 2rem;
            font-size: 1.2rem;
            font-weight: 700;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(25, 118, 210, 0.3);
            transition: background-color 0.3s ease;
        }

        .checkout-btn:hover,
        .checkout-btn:focus {
            background-color: #005bb5;
            outline: none;
        }

        .empty-message {
            padding: 3rem 0;
            font-style: italic;
            text-align: center;
            color: #666;
            font-size: 1.1rem;
        }

        footer {
            background-color: #edf3fb;
            text-align: center;
            padding: 1.2rem 1rem;
            font-size: 0.9rem;
            color: #555;
            user-select: none;
        }

        footer a {
            color: #1976d2;
            text-decoration: none;
            margin: 0 0.5rem;
        }

        footer a:hover,
        footer a:focus {
            text-decoration: underline;
            outline: none;
        }

        /* Responsive */
        @media (max-width: 600px) {
            main {
                margin: 2rem 0.7rem 3rem;
                padding: 1rem;
            }

            table.cart-table th,
            table.cart-table td {
                padding: 0.7rem 0.8rem;
            }

            .cart-summary {
                flex-direction: column;
                gap: 1rem;
                font-size: 1.1rem;
            }

            .checkout-btn {
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <header>
        <div class="logo" tabindex="0">Medicare Plus</div>
        <nav role="navigation" aria-label="Main navigation">
            <a href="index.html" tabindex="0">Home</a>
            <a href="medicare_plus_about.html" tabindex="0">About Us</a>
            <a href="medicare_plus_services.html" tabindex="0">Services</a>
            <a href="medicare_plus_dashboard.html" tabindex="0">User Dashboard</a>
            <a href="medicare_plus_contact.html" tabindex="0">Contact Us</a>
            <a href="medicare_plus_cart.html" class="cart-container" aria-label="View cart" tabindex="0">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" role="img" aria-hidden="true"
                    focusable="false">
                    <path
                        d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zM7.16 14.26L6.56 12H19a1 1 0 0 0 .95-1.32l-2.7-6.48A1 1 0 0 0 16.29 4H6.21l-.36-2H1v2h3l3.6 7.59-1.35 2.44c-.16.29-.25.62-.25.97 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.26-.24zm4.92-4.48l-2.73 5c-.35.64.13 1.38.84 1.38h7.71v-2H11.1l1.87-3.38H19v-2z" />
                </svg>
        </nav>
    </header>

    <main>
        <h1 class="page-title" tabindex="0">Your Cart</h1>
        <div id="cart-content">
            <!-- Cart table or empty message goes here -->
        </div>
    </main>

    <footer>
        &copy; 2024 Medicare Plus. All rights reserved.
        <nav aria-label="Footer navigation">
            <a href="#" tabindex="0">Privacy Policy</a> |
            <a href="#" tabindex="0">Terms of Service</a> |
            <a href="#" tabindex="0" aria-label="Medicare Plus Twitter">Twitter</a> |
            <a href="#" tabindex="0" aria-label="Medicare Plus Facebook">Facebook</a>
        </nav>
    </footer>

    <script>
        // Send cart data to backend
checkoutBtn.onclick = () => {
    const cart = loadCart();
    fetch('http://localhost:3000/api/orders', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ userId: 1, items: cart })
    })
    .then(response => response.text())
    .then(data => {
        alert('Order placed!');
        localStorage.removeItem(STORAGE_CART_KEY);
        renderCart();
    })
    .catch(error => {
        alert('Checkout failed!');
        console.error(error);
    });
};

        (function () {
            // Cart items stored in localStorage as array of objects {name, quantity}
            const STORAGE_CART_KEY = 'medicare_plus_cart';

            const cartContent = document.getElementById('cart-content');

            function loadCart() {
                const data = localStorage.getItem(STORAGE_CART_KEY);
                return data ? JSON.parse(data) : [];
            }

            function saveCart(cart) {
                localStorage.setItem(STORAGE_CART_KEY, JSON.stringify(cart));
            }

            function renderCart() {
                const cart = loadCart();
                if (cart.length === 0) {
                    cartContent.innerHTML = '<p class="empty-message">Your cart is empty.</p>';
                    return;
                }

                // Build table
                const table = document.createElement('table');
                table.className = 'cart-table';
                table.setAttribute('aria-label', 'Shopping cart items');
                const thead = document.createElement('thead');
                thead.innerHTML = `
        <tr>
        <th scope="col">Medication</th>
        <th scope="col">Quantity</th>
        <th scope="col">Actions</th>
        </tr>`;
                table.appendChild(thead);

                const tbody = document.createElement('tbody');

                cart.forEach((item, index) => {
                    const tr = document.createElement('tr');

                    // Name cell
                    const tdName = document.createElement('td');
                    tdName.textContent = item.name;
                    tr.appendChild(tdName);

                    // Quantity cell
                    const tdQty = document.createElement('td');
                    const qtyInput = document.createElement('input');
                    qtyInput.type = 'number';
                    qtyInput.min = '1';
                    qtyInput.value = item.quantity || 1;
                    qtyInput.setAttribute('aria-label', `Quantity of ${item.name}`);
                    qtyInput.onchange = () => onQuantityChange(index, qtyInput.value);
                    tdQty.appendChild(qtyInput);
                    tr.appendChild(tdQty);

                    // Actions cell
                    const tdActions = document.createElement('td');
                    const removeBtn = document.createElement('button');
                    removeBtn.className = 'remove-btn';
                    removeBtn.textContent = 'Remove';
                    removeBtn.setAttribute('aria-label', `Remove ${item.name} from cart`);
                    removeBtn.onclick = () => removeItem(index);
                    tdActions.appendChild(removeBtn);
                    tr.appendChild(tdActions);

                    tbody.appendChild(tr);
                });

                table.appendChild(tbody);

                // Cart summary and checkout
                const totalItems = cart.reduce((sum, item) => sum + Number(item.quantity), 0);
                const cartSummary = document.createElement('div');
                cartSummary.className = 'cart-summary';
                cartSummary.innerHTML = `<span>Total items: ${totalItems}</span>`;

                // Checkout button
                const checkoutBtn = document.createElement('button');
                checkoutBtn.className = 'checkout-btn';
                checkoutBtn.setAttribute('aria-label', 'Proceed to checkout');
                checkoutBtn.textContent = 'Proceed to Checkout';
                checkoutBtn.onclick = () => alert('Checkout feature coming soon!');
                cartSummary.appendChild(checkoutBtn);

                cartContent.innerHTML = '';
                cartContent.appendChild(table);
                cartContent.appendChild(cartSummary);
            }

            // Quantity change handler
            function onQuantityChange(index, newQtyVal) {
                let newQty = parseInt(newQtyVal);
                if (isNaN(newQty) || newQty < 1) newQty = 1;
                const cart = loadCart();
                cart[index].quantity = newQty;
                saveCart(cart);
                renderCart();
            }

            // Remove item handler
            function removeItem(index) {
                const cart = loadCart();
                cart.splice(index, 1);
                saveCart(cart);
                renderCart();
            }

            // Initialize
            renderCart();
        })();
    </script>
</body>

</html>